<!DOCTYPE HTML>
<!--
	Visualize by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Tromp Zcash Miner Crowdfund</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="assets/css/main.css" />
<script type="text/javascript" src="../node_modules/bignumber.js/bignumber.min.js"></script>
<script type="text/javascript" src="../dist/web3-light.js"></script>
<script type="text/javascript" src="../js/zcashescrow-abi.js"></script>

	</head>
	<body>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<span class="avatar"><img src="images/zcash-logo.png" alt="" /></span>
						<h1>This is an <a href="https://forum.z.cash/t/crowdfund-contract-for-open-sourcing-gpu-miners/2149/7"><strong>Ethereum crowdfund</strong></a> for <a href="https://forum.z.cash/t/crowdfund-for-open-sourcing-tromps-solvers-funding-cuckoo-cycle/2465/7">open sourcing Zcash miner software from John Tromp</a>.
						    </h1>
						<div id="amountLeft"></div>
						<div id="time"></div>
						<div>
					</header>

				<!-- Main -->
					<section id="main">

    <button type="button" onClick="watchBalance();">start watching crowdfund</button>
    <div></div>
    <div>Owner: </div><div id="owner"></div>
    <div>Deadline Epoch</div><div id="deadline"></div>
    <div>Funding Goal (ETH)</div><div id="goal"></div>
    <div>Amount Raised Total (ETH)</div><div id="amountRaised"></div>
    <div>Amount Raised in ETH</div><div id="amountRaisedETH"></div>
    <div>Amount Raised from BTC (in ETH)</div><div id="amountRaisedBTC"></div>
    <div>Beneficiary</div><div id="beneficiary"></div>
    <div>Payout in ETH</div><div id="beneficiary"></div>
    <div>Last Backer</div><div id="backer"></div>
    <div>Open</div><div id="open"></div>
    <div>Fee</div><div id="fee"></div>
    <div>Fee Withdrawn</div><div id="feeWithdrawn"></div>

						<!-- Thumbnails -->
							<section class="thumbnails">
								<div>
									<a href="images/fulls/01.jpg">
										<img src="images/thumbs/01.jpg" alt="" />
										<h3>Lorem ipsum dolor sit amet</h3>
									</a>
									<a href="images/fulls/02.jpg">
										<img src="images/thumbs/02.jpg" alt="" />
										<h3>Lorem ipsum dolor sit amet</h3>
									</a>
								</div>
								<div>
									<a href="images/fulls/03.jpg">
										<img src="images/thumbs/03.jpg" alt="" />
										<h3>Lorem ipsum dolor sit amet</h3>
									</a>
									<a href="images/fulls/04.jpg">
										<img src="images/thumbs/04.jpg" alt="" />
										<h3>Lorem ipsum dolor sit amet</h3>
									</a>
									<a href="images/fulls/05.jpg">
										<img src="images/thumbs/05.jpg" alt="" />
										<h3>Lorem ipsum dolor sit amet</h3>
									</a>
								</div>
								<div>
									<a href="images/fulls/06.jpg">
										<img src="images/thumbs/06.jpg" alt="" />
										<h3>Lorem ipsum dolor sit amet</h3>
									</a>
									<a href="images/fulls/07.jpg">
										<img src="images/thumbs/07.jpg" alt="" />
										<h3>Lorem ipsum dolor sit amet</h3>
									</a>
								</div>
							</section>

					</section>

				<!-- Footer -->
					<footer id="footer">
						<p>&copy; Untitled. All rights reserved. Design: <a href="http://templated.co">TEMPLATED</a>. Demo Images: <a href="http://unsplash.com">Unsplash</a>.</p>
					</footer>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.poptrox.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/main.js"></script>
<script type="text/javascript">

    var Web3 = require('web3');
    var web3 = new Web3();
//    web3.setProvider(new web3.providers.HttpProvider("http://ml.toom.im:8555"));
//    web3.setProvider(new web3.providers.HttpProvider("http://localhost:8546"));
//    var content = web3.setProvider(new web3.providers.HttpProvider("http://52.4.63.14:8545"));
    var content = web3.setProvider(new web3.providers.HttpProvider("https://eth3.augur.net"));
    var address = "0x40b5de19b534b8e5e4ffbfbd427d89ef633983dc";

    var contract = web3.eth.contract(abi);
    var instance = contract.at(address);

    var goalReached = instance.GoalReached();

    function watchBalance() {

        web3.eth.filter('latest').watch(function() {
            document.getElementById("owner").innerText = instance.owner();
            document.getElementById("deadline").innerText = instance.deadlineEpoch();
            document.getElementById("goal").innerText = instance.fundingGoal();
            document.getElementById("amountRaised").innerText = instance.amountRaised()/ Math.pow(10, 18);
            document.getElementById("amountRaisedETH").innerText = instance.amountRaisedETH() / Math.pow(10, 18);
            document.getElementById("amountRaisedBTC").innerText = instance.amountRaisedBTC() / Math.pow(10, 18);
            document.getElementById("payoutETH").innerText = instance.payoutETH() / Math.pow(10, 18);
            document.getElementById("beneficiary").innerText = instance.beneficiary();
            document.getElementById("last backer").innerText = instance.backer_history();
            document.getElementById("open").innerText = instance.open();
            document.getElementById("fee").innerText = instance.fee() / Math.pow(10, 18);
            document.getElementById("feeWithdrawn").innerText = instance.freeWithdrawn() / Math.pow(10, 18);

            $("#amountLeft").html(instance.fundingGoal() - instance.amountRaised());
        });
    }

</script>

	</body>
</html>
